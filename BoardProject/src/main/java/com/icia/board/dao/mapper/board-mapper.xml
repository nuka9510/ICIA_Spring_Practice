<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="Board"> 
	<insert id="boardWrite" parameterType="board">
		INSERT INTO BOARDTABLE(bnumber, bwriter, bpassword, btitle, bcontents, bdate, bhits)
		VALUES(bnumber_seq.NEXTVAL, #{bwriter}, #{bpassword}, #{btitle}, #{bcontents}, SYSDATE, 0)
	</insert>
	
	<select id="boardList" resultType="board">
		SELECT bnumber,
			bwriter,
			btitle,
			TO_CHAR(bdate, 'YYYY-MM-DD HH24:MI:SS') AS bdate,
			bhits
		FROM BOARDTABLE
	</select>
	
	<select id="boardView" parameterType="board" resultType="board">
		SELECT bnumber,
			bwriter,
			bpassword,
			btitle,
			bcontents,
			bdate,
			bhits
		FROM BOARDTABLE
		WHERE bnumber = #{bnumber}
	</select>
	
	<update id="boardHits" parameterType="board">
		UPDATE BOARDTABLE SET bhits = bhits+1 WHERE bnumber = #{bnumber}
	</update>
 </mapper>